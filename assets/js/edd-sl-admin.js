(()=>{var e={465:()=>{const e=document.getElementById("edd_sl_upgrade_paths_wrapper");e&&new MutationObserver((function(e,d){for(var t of e)if("childList"===t.type)for(var n of t.addedNodes)if(n.classList.contains("edd-repeatable-upgrade-wrapper")){var i=n.querySelector(".edd-sl-upgrade-price-control"),s=n.getAttribute("data-key");i.innerHTML=edd_sl.no_prices,n.querySelectorAll("label").forEach((function(e){var d=e.getAttribute("for");if(void 0!==d){var t=d.replace(/(\d+)/,parseInt(s));e.setAttribute("for",t)}})),n.querySelector(".sl-upgrade-prorate").querySelector("input").checked=!1}})).observe(e,{childList:!0})}},d={};function t(n){var i=d[n];if(void 0!==i)return i.exports;var s=d[n]={exports:{}};return e[n](s,s.exports,t),s.exports}t.n=e=>{var d=e&&e.__esModule?()=>e.default:()=>e;return t.d(d,{a:d}),d},t.d=(e,d)=>{for(var n in d)t.o(d,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:d[n]})},t.o=(e,d)=>Object.prototype.hasOwnProperty.call(e,d),(()=>{"use strict";t(465),jQuery(document).ready((function(e){var d;e("#edd_license_enabled").on("change",(function(){e(".edd-custom-price-option-section--software-licensing").toggle(e(this).is(":checked"))})).trigger("change"),e("#sl-retro-type").change((function(){var d=e(this).val(),t=e("#sl-retro-single-wrapper");"all"==d?t.hide():(t.show(),t.find(".edd-select-chosen").css("width","auto"))})),e(".edd-sl-adjust-limit").click((function(d){d.preventDefault();var t=e(this),n={action:"edd_sl_"+t.data("action")+"_limit",license:t.data("id"),download:t.data("download")};t.toggleClass("button-disabled"),e.post(ajaxurl,n,(function(d,i){t.toggleClass("button-disabled"),e("#edd-sl-"+n.license+"-limit").text(d),e('span[data-parent="'+n.license+'"]').text(d)}))})),e("input#edd_sl_disable_renewal_discount").on("change",(function(){var d=e(this).is(":checked"),t=e("#edd_sl_renewal_discount");d?t.prop("readonly","readonly").prop("disabled","disabled"):t.removeProp("readonly").removeProp("disabled")})),e("select#_edd_product_type, input#edd_license_enabled, input#edd_sl_beta_enabled").on("change",(function(){var d=e("#_edd_product_type").val(),t=e("#edd_license_enabled").is(":checked"),n=e("#edd_sl_beta_enabled").is(":checked"),i=e(".edd_sl_toggled_row"),s=e(".edd_sl_beta_toggled_row"),a=e(".edd_sl_beta_bundle_row"),o=e(".edd_sl_beta_no_bundle_row");if(!t)return i.hide(),void e("#edd_sl_upgrade_paths input, #edd_sl_upgrade_paths select").prop("disabled",!0).trigger("chosen:updated");n?s.show():s.hide(),"bundle"==d?(i.hide(),i.not(".edd_sl_nobundle_row").show(),s.hide(),e("#edd_sl_beta_enabled").checked=!1,o.hide(),a.show()):(i.show(),o.show(),a.hide()),e("#edd_sl_upgrade_paths input, #edd_sl_upgrade_paths select").prop("disabled",!1).trigger("chosen:updated")})),e("#edd_license_enabled").is(":checked")||e("#edd_sl_upgrade_paths input, #edd_sl_upgrade_paths select").prop("disabled",!0).trigger("chosen:updated"),e('input[name="edd_sl_is_lifetime"]').change((function(){1==e(this).val()?e("#edd_license_length_wrapper").hide():e("#edd_license_length_wrapper").show()})),e("#edit_expiration_is_lifetime").change((function(){e(this).is(":checked")?e("#edit_expiration_date").attr("disabled","disabled"):e("#edit_expiration_date").removeAttr("disabled")})),e("#edd_sl_upgrade_paths_wrapper").on("change","select.edd-sl-upgrade-path-download",(function(){var d=e(this),t=d.val();if(parseInt(t)>0){var n={action:"edd_check_for_download_price_variations",download_id:t};e.ajax({type:"POST",data:n,url:ajaxurl,success:function(e){var t=d.parents(".edd-form-group"),n=t.next().find(".edd-form-group__control");if(""==e)n.html(edd_sl.no_prices);else{var i=t.next().find(".edd-sl-upgrade-path-price-id"),s=d.parents(".edd_repeatable_row").data("key"),a="edd_sl_upgrade_paths["+s+"][price_id]",o="edd_sl_upgrade_paths_"+s+"_price_id";e=e.replace('name="edd_price_option"','name="'+a+'" id="'+o+'"'),i.remove(),n.html(e)}}}).fail((function(e){window.console&&window.console.log&&console.log(e)}))}})),e(".edd_sl_upgrade_link").on("click",(function(){e(this).select()})),e("#edd-sl-license-delete-confirm").change((function(){var d=e("#edd-sl-delete-license");e(this).prop("checked")?d.attr("disabled",!1):d.attr("disabled",!0)})),e(".edd-sl-edit-license-exp-date").on("click",(function(d){var t,n;d.preventDefault(),t=e(this),n=e("input.edd-sl-license-exp-date"),t.text()===edd_sl.action_edit?(t.data("current-value",n.val()),t.text(edd_sl.action_cancel)):(n.val(t.data("current-value")),e("#edd_sl_update_license").fadeOut("fast",(function(){e(this).css("display","none")})),t.text(edd_sl.action_edit)),e(".edd-sl-license-exp-date").toggle()})),e(".edd-sl-license-exp-date, #license_price_id").on("change",(function(){e("#edd_sl_update_license").fadeIn("fast").css("display","inline-block")})),e("#edd-sl-regenerate-key").on("click",(function(d){if(0!=confirm(edd_sl.regenerate_notice)){var t=e("#license-key"),n=e(this);n.css("color","#999").css("pointer-events","none");var i={action:"edd_sl_regenerate_license",license_id:n.data("license-id"),nonce:n.data("nonce")};return e.ajax({type:"POST",data:i,dataType:"json",url:ajaxurl,success:function(e){e.success?t.fadeTo("fast",".1",(function(){t.text(e.key).fadeTo("fast","1",(function(){n.css("color","").css("pointer-events","")}))})):n.css("color","").css("pointer-events","")}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!1}})),e("#edd_sl_send_renewal_notice").on("click",(function(d){d.preventDefault(),e(this).text()===edd_sl.send_notice?(e(".edd-sl-license-card-notices").fadeIn("fast").css("display","table-row"),e(this).text(edd_sl.cancel_notice)):(e(".edd-sl-license-card-notices").fadeOut("fast",(function(){e(".edd-sl-license-card-notices").css("display","none")})),e(this).text(edd_sl.send_notice))})),e("#edd_readme_cache button").on("click",(function(d){d.preventDefault();var t={action:"edd_sl_clear_readme",download_id:edd_sl.download,nonce:edd_sl.readme_nonce};e.ajax({type:"POST",data:t,url:ajaxurl,success:function(d){var t="error inline";d.success&&(t="updated inline"),e("#edd_readme_cache").empty().append(e("<div />",{class:t}).append(e("<p />",{text:d.data.message})))}})})),e('.edd-sl-license-card-notices input[type="submit"]').on("click",(function(d){d.preventDefault();var t=e(this);t.attr("disabled",!0),t.next(".spinner").css("visibility","visible");var n=e(this).parents("td");n.find(".notice.error").remove();var i={action:"edd_sl_send_renewal_notice",license_id:e(this).data("license-id"),notice_id:e("#edd_sl_renewal_notice").val()};return e.ajax({type:"POST",data:i,dataType:"json",url:ajaxurl,success:function(e){e.success?window.location=e.url:e.message&&(t.attr("disabled",!1),t.next(".spinner").css("visibility","hidden"),n.append('<div class="notice error inline"><p>'+e.message+"</p></div>"))}}).fail((function(e){window.console&&window.console.log&&console.log(e)})),!0})),window.formfield="",e(document.body).on("click",".edd_upload_banner_button",(function(t){t.preventDefault();var n=e(this);window.formfield=e(this).closest(".edd_sl_banner_container"),d||((d=wp.media.frames.file_frame=wp.media({frame:"post",state:"insert",title:n.data("uploader-title"),button:{text:n.data("uploader-button-text")},multiple:!1})).on("menu:render:default",(function(e){e.unset("library-separator"),e.unset("gallery"),e.unset("featured-image"),e.unset("embed"),e.set({})})),d.on("insert",(function(){d.state().get("selection").each((function(e,d){e=e.toJSON(),window.formfield.find("input").val(e.url)}))}))),d.open()})),window.formfield="",e("input#edd_license_enabled, input#edd_sr_rollouts_enabled, input#edd_sr_batch_enabled, input#edd_sr_version_enabled").on("change",(function(){var d=e("#edd_license_enabled").is(":checked"),t=e("#edd_sr_rollouts_enabled").is(":checked"),n=e("#edd_sr_batch_enabled").is(":checked"),i=e("#edd_sr_version_enabled").is(":checked"),s=e(".edd_sr_toggled_row"),a=e(".edd_sr_batch_row"),o=e(".edd_sr_version_row"),r=e("#edd_sr_batch_max");return d?(e("input#edd_sr_rollouts_enabled").prop("disabled",!1).trigger("chosen:updated"),t?(s.show(),e("input#edd_sr_batch_enabled").prop("disabled",!1).trigger("chosen:updated"),e("input#edd_sr_version_enabled").prop("disabled",!1).trigger("chosen:updated"),n?(a.show(),r.prop("disabled",!1)):(a.hide(),r.prop("disabled",!0)),void(i?o.show():o.hide())):(e("input#edd_sr_batch_enabled").prop("disabled",!0).trigger("chosen:updated"),e("input#edd_sr_version_enabled").prop("disabled",!0).trigger("chosen:updated"),s.hide(),a.hide(),o.hide(),void r.prop("disabled",!0))):(e("input#edd_sr_rollouts_enabled").prop("disabled",!0).trigger("chosen:updated"),s.hide(),s.hide(),a.hide(),o.hide(),void r.prop("disabled",!0))}))}))})()})();